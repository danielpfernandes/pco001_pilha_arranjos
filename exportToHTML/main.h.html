<html>
<head>
<title>main.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #bbb529;}
.s3 { color: #6897bb;}
.s4 { color: #6a8759;}
.s5 { color: #cc7832;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
main.h</font>
</center></td></tr></table>
<pre><span class="s0">//</span>
<span class="s0">// Created by Daniel Paiva Fernandes on 23/09/2021.</span>
<span class="s0">//</span>

<span class="s2">#ifndef </span><span class="s1">PCO001_LISTA_ARRANJOS_MAIN_H</span>
<span class="s2">#define </span><span class="s1">PCO001_LISTA_ARRANJOS_MAIN_H</span>
<span class="s2">#define </span><span class="s1">INICIO_ARRANJO </span><span class="s3">1</span>
<span class="s2">#define </span><span class="s1">TAMANHO_MAXIMO </span><span class="s3">100</span>

<span class="s2">#include </span><span class="s4">&lt;iostream&gt;</span>
<span class="s2">#include </span><span class="s4">&lt;cstring&gt;</span>
<span class="s2">#include </span><span class="s4">&lt;vector&gt;</span>

<span class="s5">using namespace </span><span class="s1">std</span><span class="s5">;</span>

<span class="s5">typedef struct</span>
<span class="s1">{</span>
    <span class="s1">string chave</span><span class="s5">;</span>
<span class="s1">} TipoItem</span><span class="s5">;</span>

<span class="s5">typedef struct </span><span class="s1">TipoPilha</span>
<span class="s1">{</span>
    <span class="s1">TipoItem item[TAMANHO_MAXIMO]</span><span class="s5">;</span>
    <span class="s5">int </span><span class="s1">topo</span><span class="s5">;</span>
<span class="s1">} TipoPilha</span><span class="s5">;</span>

<span class="s5">bool </span><span class="s1">isCheia(</span><span class="s5">const </span><span class="s1">TipoPilha *pilha) {</span>
    <span class="s5">if </span><span class="s1">(pilha-&gt;topo == TAMANHO_MAXIMO) {</span>
        <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;ERRO! Pilha está cheia&quot; </span><span class="s1">&lt;&lt; endl</span><span class="s5">;</span>
        <span class="s5">return true;</span>
    <span class="s1">}</span>
    <span class="s5">return false;</span>
<span class="s1">}</span>

<span class="s5">bool </span><span class="s1">isVazia(</span><span class="s5">const </span><span class="s1">TipoPilha *pilha)</span>
<span class="s1">{</span>
    <span class="s5">if </span><span class="s1">(pilha-&gt;topo == -</span><span class="s3">1</span><span class="s1">)</span>
    <span class="s1">{</span>
        <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;ERRO! Pilha está vazia&quot; </span><span class="s1">&lt;&lt; endl</span><span class="s5">;</span>
        <span class="s5">return true;</span>
    <span class="s1">}</span>
    <span class="s5">return false;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">imprimePilha(TipoPilha *pilha)</span>
<span class="s1">{</span>
    <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;Pilha: &quot; </span><span class="s1">&lt;&lt; endl</span><span class="s5">;</span>
    <span class="s5">for </span><span class="s1">(</span><span class="s5">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s5">; </span><span class="s1">i &lt;= pilha-&gt;topo</span><span class="s5">; </span><span class="s1">i++)</span>
    <span class="s1">{</span>
        <span class="s1">cout &lt;&lt; to_string(i) + </span><span class="s4">&quot;) &quot; </span><span class="s1">+ pilha-&gt;item[i].chave &lt;&lt; endl</span><span class="s5">;</span>
    <span class="s1">}</span>
    <span class="s1">cout &lt;&lt; endl</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">inicializaPilha(TipoPilha* pilha)</span>
<span class="s1">{</span>
    <span class="s1">pilha-&gt;topo = -</span><span class="s3">1</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">empilhar(string item</span><span class="s5">, </span><span class="s1">TipoPilha* pilha)</span>
<span class="s1">{</span>
    <span class="s5">if</span><span class="s1">(isCheia(pilha)) </span><span class="s5">return;</span>
    <span class="s1">pilha-&gt;topo++</span><span class="s5">;</span>
    <span class="s1">pilha-&gt;item[pilha-&gt;topo].chave = item</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">desempilhar(TipoPilha* pilha)</span>
<span class="s1">{</span>
    <span class="s5">if </span><span class="s1">(isVazia(pilha)) </span><span class="s5">return;</span>
    <span class="s1">pilha-&gt;item[pilha-&gt;topo].chave = </span><span class="s4">&quot;&quot;</span><span class="s5">;</span>
    <span class="s1">pilha-&gt;topo--</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">descarregaPilhaAuxiliarNaPilha(TipoPilha *pilhaAux</span><span class="s5">, </span><span class="s1">TipoPilha *pilha) {</span>
    <span class="s5">for </span><span class="s1">(</span><span class="s5">int </span><span class="s1">j = pilhaAux-&gt;topo</span><span class="s5">; </span><span class="s1">j != -</span><span class="s3">1</span><span class="s5">; </span><span class="s1">j--)</span>
    <span class="s1">{</span>
        <span class="s1">empilhar(pilhaAux-&gt;item[j].chave</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
        <span class="s1">desempilhar(pilhaAux)</span><span class="s5">;</span>
    <span class="s1">}</span>
<span class="s1">}</span>

<span class="s1">TipoPilha *carregaPilhaAuxiliarAtePosicao(</span><span class="s5">int </span><span class="s1">posicao</span><span class="s5">, </span><span class="s1">TipoPilha *pilha</span><span class="s5">, </span><span class="s1">TipoPilha* pilhaAux) {</span>
    <span class="s5">for </span><span class="s1">(</span><span class="s5">int </span><span class="s1">i = pilha-&gt;topo</span><span class="s5">; </span><span class="s1">i &gt;= posicao</span><span class="s5">; </span><span class="s1">i--)</span>
    <span class="s1">{</span>
        <span class="s1">empilhar(pilha-&gt;item[i].chave</span><span class="s5">, </span><span class="s1">pilhaAux)</span><span class="s5">;</span>
        <span class="s1">desempilhar(pilha)</span><span class="s5">;</span>
    <span class="s1">}</span>
    <span class="s5">return </span><span class="s1">pilhaAux</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s1">TipoPilha *carregaPilhaAuxiliarAtePosicao(</span><span class="s5">int </span><span class="s1">posicao</span><span class="s5">, </span><span class="s1">TipoPilha *pilha) {</span>
    <span class="s1">TipoPilha pilhaAux</span><span class="s5">;</span>
    <span class="s1">inicializaPilha(&amp;pilhaAux)</span><span class="s5">;</span>
    <span class="s5">return </span><span class="s1">carregaPilhaAuxiliarAtePosicao(posicao</span><span class="s5">, </span><span class="s1">pilha</span><span class="s5">, </span><span class="s1">&amp;pilhaAux)</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">insereItemAposPosicao(string item</span><span class="s5">, int </span><span class="s1">posicao</span><span class="s5">, </span><span class="s1">TipoPilha* pilha)</span>
<span class="s1">{</span>
    <span class="s5">if </span><span class="s1">(isCheia(pilha)) </span><span class="s5">return;</span>
    <span class="s1">TipoPilha* pilhaAux = carregaPilhaAuxiliarAtePosicao(posicao</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
    <span class="s5">int </span><span class="s1">topoAux = pilhaAux-&gt;topo</span><span class="s5">;</span>
    <span class="s1">empilhar(item</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
    <span class="s1">pilhaAux-&gt;topo = topoAux</span><span class="s5">;</span>
    <span class="s1">descarregaPilhaAuxiliarNaPilha(pilhaAux</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">retira(TipoPilha* pilha</span><span class="s5">, int </span><span class="s1">posicao)</span>
<span class="s1">{</span>
    <span class="s5">if</span><span class="s1">(isVazia(pilha)) </span><span class="s5">return;</span>
    <span class="s1">TipoPilha *pilhaAux = carregaPilhaAuxiliarAtePosicao(posicao+</span><span class="s3">1</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
    <span class="s5">int </span><span class="s1">topoAux = pilhaAux-&gt;topo</span><span class="s5">;</span>
    <span class="s1">desempilhar(pilha)</span><span class="s5">;</span>
    <span class="s1">pilhaAux-&gt;topo = topoAux</span><span class="s5">;</span>
    <span class="s1">descarregaPilhaAuxiliarNaPilha(pilhaAux</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">localizaItemPosicao(</span><span class="s5">int </span><span class="s1">posicao</span><span class="s5">, </span><span class="s1">TipoPilha* pilha)</span>
<span class="s1">{</span>
    <span class="s5">if</span><span class="s1">(isVazia(pilha)) </span><span class="s5">return;</span>
    <span class="s1">string shouldChange = </span><span class="s4">&quot;n&quot;</span><span class="s5">;</span>
    <span class="s1">TipoPilha* pilhaAux = carregaPilhaAuxiliarAtePosicao(posicao+</span><span class="s3">1</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
    <span class="s5">int </span><span class="s1">topoAux = pilhaAux-&gt;topo</span><span class="s5">;</span>
    <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;O valor na posição &quot; </span><span class="s1">+ to_string(posicao) + </span><span class="s4">&quot; é &quot; </span><span class="s1">+ pilha-&gt;item[pilha-&gt;topo].chave &lt;&lt; endl</span><span class="s5">;</span>
    <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;Deseja alterar o valor (s/n)? &quot;</span><span class="s5">;</span>
    <span class="s0">// cin &gt;&gt; shouldChange;</span>
    <span class="s5">if </span><span class="s1">(shouldChange == </span><span class="s4">&quot;s&quot;</span><span class="s1">)</span>
    <span class="s1">{</span>
        <span class="s1">string novoValor</span><span class="s5">;</span>
        <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;Entre com o novo valor: &quot;</span><span class="s5">;</span>
        <span class="s1">cin &gt;&gt; novoValor</span><span class="s5">;</span>
        <span class="s1">desempilhar(pilha)</span><span class="s5">;</span>
        <span class="s1">empilhar(novoValor</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
    <span class="s1">}</span>
    <span class="s1">pilhaAux-&gt;topo = topoAux</span><span class="s5">;</span>
    <span class="s1">descarregaPilhaAuxiliarNaPilha(pilhaAux</span><span class="s5">, </span><span class="s1">pilha)</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s1">TipoPilha combinarPilhas(TipoPilha* pilhaUm</span><span class="s5">, </span><span class="s1">TipoPilha* pilhaDois)</span>
<span class="s1">{</span>
    <span class="s5">int </span><span class="s1">tamanhoNovo = pilhaUm-&gt;topo + pilhaDois-&gt;topo</span><span class="s5">;</span>
    <span class="s5">if </span><span class="s1">(tamanhoNovo &gt; TAMANHO_MAXIMO)</span>
    <span class="s1">{</span>
        <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;ERRO! As combinação das pilhas excede o tamanho máximo!&quot; </span><span class="s1">&lt;&lt; endl</span><span class="s5">;</span>
    <span class="s1">}</span>
    <span class="s1">TipoPilha  novaPilha</span><span class="s5">;</span>
    <span class="s1">inicializaPilha(&amp;novaPilha)</span><span class="s5">;</span>
    <span class="s1">carregaPilhaAuxiliarAtePosicao(</span><span class="s3">0</span><span class="s5">, </span><span class="s1">pilhaUm</span><span class="s5">, </span><span class="s1">&amp;novaPilha)</span><span class="s5">;</span>
    <span class="s1">carregaPilhaAuxiliarAtePosicao(</span><span class="s3">0</span><span class="s5">, </span><span class="s1">pilhaDois</span><span class="s5">, </span><span class="s1">&amp;novaPilha)</span><span class="s5">;</span>
    <span class="s5">return  </span><span class="s1">novaPilha</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s1">TipoPilha dividirPilha(TipoPilha* original</span><span class="s5">, int </span><span class="s1">posicao)</span>
<span class="s1">{</span>
    <span class="s1">TipoPilha novaPilha</span><span class="s5">;</span>
    <span class="s1">inicializaPilha(&amp;novaPilha)</span><span class="s5">;</span>
    <span class="s5">if</span><span class="s1">(isVazia(original)) </span><span class="s5">return </span><span class="s1">novaPilha</span><span class="s5">;</span>
    <span class="s1">carregaPilhaAuxiliarAtePosicao(posicao + </span><span class="s3">1</span><span class="s5">, </span><span class="s1">original</span><span class="s5">, </span><span class="s1">&amp;novaPilha)</span><span class="s5">;</span>
    <span class="s5">return </span><span class="s1">novaPilha</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s1">TipoPilha copiarPilha(TipoPilha* original)</span>
<span class="s1">{</span>
    <span class="s1">TipoPilha pilhaAux</span><span class="s5">;</span>
    <span class="s1">inicializaPilha(&amp;pilhaAux)</span><span class="s5">;</span>
    <span class="s1">carregaPilhaAuxiliarAtePosicao(</span><span class="s3">0</span><span class="s5">, </span><span class="s1">original</span><span class="s5">, </span><span class="s1">&amp;pilhaAux)</span><span class="s5">;</span>
    <span class="s5">int </span><span class="s1">topoAux = pilhaAux.topo</span><span class="s5">;</span>
    <span class="s1">TipoPilha copia</span><span class="s5">;</span>
    <span class="s1">inicializaPilha(&amp;copia)</span><span class="s5">;</span>
    <span class="s1">pilhaAux.topo = topoAux</span><span class="s5">;</span>
    <span class="s5">for </span><span class="s1">(</span><span class="s5">int </span><span class="s1">i = pilhaAux.topo</span><span class="s5">; </span><span class="s1">i &gt;= </span><span class="s3">0</span><span class="s5">; </span><span class="s1">i--)</span>
    <span class="s1">{</span>
        <span class="s1">empilhar(pilhaAux.item[i].chave</span><span class="s5">, </span><span class="s1">original)</span><span class="s5">;</span>
        <span class="s1">empilhar(pilhaAux.item[i].chave</span><span class="s5">, </span><span class="s1">&amp;copia)</span><span class="s5">;</span>
        <span class="s1">desempilhar(&amp;pilhaAux)</span><span class="s5">;</span>
    <span class="s1">}</span>
    <span class="s5">return </span><span class="s1">copia</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s5">void </span><span class="s1">localizaItemPosicao(TipoPilha* pilha</span><span class="s5">, const </span><span class="s1">string&amp; valorBuscado)</span>
<span class="s1">{</span>
    <span class="s5">if</span><span class="s1">(isVazia(pilha)) </span><span class="s5">return;</span>
    <span class="s5">int </span><span class="s1">ocorrencia = </span><span class="s3">0</span><span class="s5">;</span>
    <span class="s1">vector&lt;</span><span class="s5">int</span><span class="s1">&gt; posicao</span><span class="s5">;</span>
    <span class="s5">bool </span><span class="s1">isPresent = </span><span class="s5">false;</span>
    <span class="s1">TipoPilha copia = copiarPilha(pilha)</span><span class="s5">;</span>
    <span class="s5">while</span><span class="s1">(copia.topo != -</span><span class="s3">1</span><span class="s1">)</span>
    <span class="s1">{</span>
        <span class="s5">if</span><span class="s1">(copia.item[copia.topo].chave == valorBuscado)</span>
        <span class="s1">{</span>
            <span class="s1">ocorrencia++</span><span class="s5">;</span>
            <span class="s1">posicao.push_back(pilha-&gt;topo)</span><span class="s5">;</span>
            <span class="s1">isPresent = </span><span class="s5">true;</span>
        <span class="s1">}</span>
        <span class="s1">desempilhar(&amp;copia)</span><span class="s5">;</span>
    <span class="s1">}</span>
    <span class="s5">if </span><span class="s1">(isPresent)</span>
    <span class="s1">{</span>
        <span class="s1">cout &lt;&lt; to_string(ocorrencia) + </span><span class="s4">&quot; ocorrências do valor &quot; </span><span class="s1">+ valorBuscado + </span><span class="s4">&quot; encontradas&quot; </span><span class="s1">&lt;&lt; endl</span><span class="s5">;</span>
        <span class="s5">return;</span>
    <span class="s1">}</span>
    <span class="s1">cout &lt;&lt; </span><span class="s4">&quot;ERRO! Valor &quot; </span><span class="s1">+ valorBuscado + </span><span class="s4">&quot; não encontrado&quot; </span><span class="s1">&lt;&lt; endl</span><span class="s5">;</span>
<span class="s1">}</span>

<span class="s2">#endif </span><span class="s0">//PCO001_LISTA_ARRANJOS_MAIN_H</span></pre>
</body>
</html>